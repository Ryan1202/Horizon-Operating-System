#ifndef _FEATURE_H
#define _FEATURE_H

enum x86_cpu_features {
	CPUID_FEAT_SSE3			= 0,
	CPUID_FEAT_PCLMUL		= 1,
	CPUID_FEAT_DTES64		= 2,
	CPUID_FEAT_MONITOR		= 3,
	CPUID_FEAT_DS_CPL		= 4,
	CPUID_FEAT_VMX			= 5,
	CPUID_FEAT_SMX			= 6,
	CPUID_FEAT_EST			= 7,
	CPUID_FEAT_TM2			= 8,
	CPUID_FEAT_SSSE3		= 9,
	CPUID_FEAT_CID			= 10,
	CPUID_FEAT_FMA			= 12,
	CPUID_FEAT_CX16			= 13,
	CPUID_FEAT_XTPR			= 14,
	CPUID_FEAT_PDCM			= 15,
	CPUID_FEAT_PCID			= 17,
	CPUID_FEAT_DCA			= 18,
	CPUID_FEAT_SSE4_1		= 19,
	CPUID_FEAT_SSE4_2		= 20,
	CPUID_FEAT_X2APIC		= 21,
	CPUID_FEAT_MOVBE		= 22,
	CPUID_FEAT_POPCNT		= 23,
	CPUID_FEAT_TSC_DEADLINE = 24,
	CPUID_FEAT_AES			= 25,
	CPUID_FEAT_XSAVE		= 26,
	CPUID_FEAT_OSXSAVE		= 27,
	CPUID_FEAT_AVX			= 28,
	CPUID_FEAT_F16C			= 29,
	CPUID_FEAT_RDRAND		= 30,
	CPUID_FEAT_HYPERVISOR	= 31,

	CPUID_FEAT_FPU	   = 32 + 0,
	CPUID_FEAT_VME	   = 32 + 1,
	CPUID_FEAT_DE	   = 32 + 2,
	CPUID_FEAT_PSE	   = 32 + 3,
	CPUID_FEAT_TSC	   = 32 + 4,
	CPUID_FEAT_MSR	   = 32 + 5,
	CPUID_FEAT_PAE	   = 32 + 6,
	CPUID_FEAT_MCE	   = 32 + 7,
	CPUID_FEAT_CX8	   = 32 + 8,
	CPUID_FEAT_APIC	   = 32 + 9,
	CPUID_FEAT_SEP	   = 32 + 11,
	CPUID_FEAT_MTRR	   = 32 + 12,
	CPUID_FEAT_PGE	   = 32 + 13,
	CPUID_FEAT_MCA	   = 32 + 14,
	CPUID_FEAT_CMOV	   = 32 + 15,
	CPUID_FEAT_PAT	   = 32 + 16,
	CPUID_FEAT_PSE36   = 32 + 17,
	CPUID_FEAT_PSN	   = 32 + 18,
	CPUID_FEAT_CLFLUSH = 32 + 19,
	CPUID_FEAT_DS	   = 32 + 21,
	CPUID_FEAT_ACPI	   = 32 + 22,
	CPUID_FEAT_MMX	   = 32 + 23,
	CPUID_FEAT_FXSR	   = 32 + 24,
	CPUID_FEAT_SSE	   = 32 + 25,
	CPUID_FEAT_SSE2	   = 32 + 26,
	CPUID_FEAT_SS	   = 32 + 27,
	CPUID_FEAT_HTT	   = 32 + 28,
	CPUID_FEAT_TM	   = 32 + 29,
	CPUID_FEAT_PBE	   = 32 + 31
};

void read_features(void);
int	 cpu_check_feature(enum x86_cpu_features feature);
void print_features();

#endif